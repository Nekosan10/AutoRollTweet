<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
  </head>
  <body>
  <p>皆に登録してもらったキャラの行動（ダイスロール）を行って呟くよー</p>
  <p><a href='https://twitter.com/nekoneko_game'>呟いてるアカウント</a><a href='Twitter'>作った人の公式アカウント</a></p>
  <p>ランダムに呟かせる内容登録は<a href="フォームのリンク">こちら</a></p>
  <p>現在登録されている一覧閲覧は<a href='スプレッドシートのリンク'>こちら</a></p>
    <input type='button' class='select' onClick='dice()' value='ランダムにロールして呟く'>
    <br /><br />
    <input type='text' id='number'>
    <input type='button' onClick='numdice()' value='番号指定でロールして呟く'>
    <br />
    <pre id='text'></pre>
  </body>
  <script type='text/javascript'>
  var strset = document.getElementById('text');
  function dice() {
      strset.textContent = 'ロール中';
      google.script.run
        .withSuccessHandler(rollok)
        .withFailureHandler(rollfalse)
        .randomroll();
    }
   function rollok(){
   strset.textContent = 'ツイートしたよー\n表示まで時間かかるかも\nさて・・・誰の行動がロールされたんかな？';
   }
   function rollfalse(){
   strset.textContent = 'どっかでエラーが起きてるかも\n処理ロール失敗ってね\n更新したり時間をおいて再度やってもだめやったら呟き先か作成者のアカウントに伝えてくれえると助かりますー';
   }
   function numdice(){
   strset.textContent = 'ロール中';
   var num=document.getElementById('number').value;
   google.script.run
        .withSuccessHandler(rollok)
        .withFailureHandler(rollfalse)
        .debugroll(num);
   }
  </script>
</html>


